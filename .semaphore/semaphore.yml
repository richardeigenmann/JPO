version: v1.0
name: Java
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804
blocks:
  - name: Gradle
    task:
      jobs:
        - name: Build
          commands:
            - sem-version java 14
            - checkout
            - sudo apt update
            - sudo apt install xvfb
            - 'wget https://download.java.net/openjdk/jdk14/ri/openjdk-14+36_linux-x64_bin.tar.gz'
            - tar xzf openjdk-14+36_linux-x64_bin.tar.gz
            - export JAVA_HOME=/home/semaphore/JPO/jdk-14
            - xvfb-run ./gradlew check
